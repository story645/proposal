The Python Matplotlib visualization library grew organically such that the visualization functions are deeply entangled with the data the functions expect in such a way that it has become hard to adapt the library for modern needs. To rearchtecture the library while not sacrificing its current very high degree of flexiblity, we developed a model of visualization that preserves the structure of the data while also putting very few constraints on the data it can encode. 

We propose that a function that converts data into a graphic is the composition of two functions: a set of equivariant maps from data to visual channels and an equivariant map that assembles the visual channels into a graphic renderable by a physical display. We encode data as a fiber bundle to separately consider the fields of the data (the variables) as the fiber and the connectivity as the base space. We also represent prerender display spaces as a fiber bundle with a base space that is a continous map into the data base space, thereby preserving the connectivity of the data in the graphic. 

We then illustrate this model through case studies of a scatter plot, line plot, and heatmap. Finally we show that this model can be realized in software with a small prototype. We encode the topological base spaces using triangulation, make use of programming types for the fiber, and build Matplotlib's existing infrastructure for the rendering.  

In future work, we propose to develop the math further such that we can represent graphics that are composites of primitives and implement those ideas as user facing composite visualization functions. 
